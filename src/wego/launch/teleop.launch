<launch>
    <arg name="ekf" default="true"/>

    <node pkg="tf2_ros" type="static_transform_publisher" name="base_link_to_imu"
    args="0.0 0.0 0.12 0.0 0.0 0.0 1.0 base_link /imu"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="base_link_to_lidar"
    args="0.11 0.0 0.13 0.0 0.0 0.0 1.0 base_link /lidar"/>

    <node pkg="wego" type="lidar_convert" name="lidar_convert"/>

    <!-- 필수 파라미터 설정 -->
    <param name="accel_to_current_gain" value="10.0"/>
    <param name="accel_to_brake_gain" value="5000.0"/>

    <include file="$(find racecar)/launch/teleop.launch"/>

    <group if = "$(arg ekf)">
        <include file="$(find robot_localization)/launch/dual_ekf_navsat_example.launch"/>
    </group>
    <group unless = "$(arg ekf)">
        <!-- <node pkg="wego" type="pub_odom.py" name="pub_odom"/> -->
        <node pkg="wego" type="pub_odom.py" name="odom_tf_broadcat"/>
    </group>
</launch>